{
  // A simple setup recipe that sets up the site for playing with the Training Demo. For more info on how recipes work
  // check out the official docs: https://docs.orchardcore.net/en/latest/docs/reference/modules/Recipes/.
  "name": "Lombiq.TrainingDemo",
  "displayName": "Training Demo",
  "description": "Demo Orchard Core site with the Lombiq.TrainingDemo module enabled.",
  "author": "Lombiq",
  "website": "https://github.com/Lombiq/Orchard-Training-Demo-Module",
  "version": "1.0",
  "issetuprecipe": true,
  "categories": [ "training" ],
  "tags": [ "developer", "training" ],
  "steps": [
    {
      "name": "feature",
      "disable": [],
      "enable": [
        // Modules
        // Don't include "OrchardCore.*" features here, instead add them to the Manifest.cs file as feature or module
        // dependency. In this case they are in the "Lombiq.TrainingDemo" featrue's Dependencies. A module's
        // dependencies are automatically enabled along with the module so you only need to enable your own modules.
        "Lombiq.TrainingDemo",
        "Lombiq.TrainingDemo.Middlewares",

        // Themes
        "TheTheme",
        "TheAdmin",
        "SafeMode"
      ]
    },
    {
      "name": "themes",
      "admin": "TheAdmin",
      "site": "TheTheme"
    },
    {
      "name": "settings",
      "HomeRoute": {
        "Action": "Index",
        "Controller": "Home",
        "Area": "TheTheme"
      },
      "LayerSettings": {
        "Zones": [ "Header", "Messages", "Footer" ]
      },
      "CacheMode": 1,
      "AdminSettings": {
        "DisplayDarkMode": true,
        "DisplayMenuFilter": false,
        "DisplayNewMenu": true,
        "DisplayTitlesInTopbar": false
      }
    },
    {
      "name": "layers",
      "Layers": [
        {
          "Name": "Always",
          "Rule": "true",
          "Description": "The widgets in this layer are displayed on any page of this site."
        },
        {
          "Name": "Homepage",
          "Rule": "isHomepage()",
          "Description": "The widgets in this layer are only displayed on the homepage."
        }
      ]
    },
    // Workflows
    // The User Login logger and the Person Page Created Logger workflows represent how you can create Workflows 
    // in Orchard Core that adds entries to the log when a user logs in or when someone creates a new Person Page 
    // content item.
    {
      "name": "WorkflowType",
      "data": [
        {
          "WorkflowTypeId": "47gk2q35xcbc0xg59kxwz5tkw4",
          "Name": "User Login Logger",
          "IsEnabled": true,
          "IsSingleton": false,
          "LockTimeout": 0,
          "LockExpiration": 0,
          "DeleteFinishedWorkflows": true,
          "Activities": [
            {
              "ActivityId": "4w8zhbq9139e6zt4y2nb2gytdg",
              "Name": "UserLoggedInEvent",
              "X": 0,
              "Y": 10,
              "IsStart": true,
              "Properties": {
                "ActivityMetadata": {
                  "Title": null
                }
              }
            },
            {
              "ActivityId": "4bhq8xgddpzppy2j5m96q9whwf",
              "Name": "LogTask",
              "X": 320,
              "Y": 0,
              "IsStart": false,
              "Properties": {
                "ActivityMetadata": {
                  "Title": null
                },
                "LogLevel": 4,
                "Text": {
                  "Expression": "{{ \"Expected non-error - User logged in on\" | t }} {{ \"now\" | local | date: \"%c\" }}"
                }
              }
            }
          ],
          "Transitions": [
            {
              "Id": 0,
              "SourceActivityId": "4w8zhbq9139e6zt4y2nb2gytdg",
              "SourceOutcomeName": "Done",
              "DestinationActivityId": "4bhq8xgddpzppy2j5m96q9whwf"
            }
          ]
        },
        {
          "WorkflowTypeId": "4vtt0g09pbnt8x72gnc6557smk",
          "Name": "Person Page Content Item Created Logger",
          "IsEnabled": true,
          "IsSingleton": false,
          "LockTimeout": 0,
          "LockExpiration": 0,
          "DeleteFinishedWorkflows": false,
          "Activities": [
            {
              "ActivityId": "4jgzsrtras0wt5byehn5s9j04h",
              "Name": "LogTask",
              "X": 290,
              "Y": 0,
              "IsStart": false,
              "Properties": {
                "ActivityMetadata": {
                  "Title": null
                },
                "LogLevel": 4,
                "Text": {
                  "Expression": "{{ \"Expected non-error -\" | t }} {{ User.Identity.Name }} {{ \"created a new Person Page content item.\" | t }}"
                }
              }
            },
            {
              "ActivityId": "4tr7a58h1qz7jvg2vz37hgprn1",
              "Name": "ContentCreatedEvent",
              "X": 0,
              "Y": 0,
              "IsStart": true,
              "Properties": {
                "ContentTypeFilter": [
                  "PersonPage"
                ],
                "ActivityMetadata": {
                  "Title": null
                }
              }
            }
          ],
          "Transitions": [
            {
              "Id": 0,
              "SourceActivityId": "4tr7a58h1qz7jvg2vz37hgprn1",
              "SourceOutcomeName": "Done",
              "DestinationActivityId": "4jgzsrtras0wt5byehn5s9j04h"
            }
          ]
        }
      ]
    }
  ]
}